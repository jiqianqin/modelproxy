{"version":3,"sources":["webpack:///./built/node/index.js","webpack:///./built/node/libs/engine.factory.js","webpack:///./built/node/libs/base.factory.js","webpack:///./built/node/engines/default.js","webpack:///./built/node/engines/base.js","webpack:///./built/node/libs/compose.js","webpack:///./built/node/libs/proxy.js","webpack:///./built/node/libs/interface.factory.js","webpack:///./built/node/models/method.js","webpack:///./built/node/schemas/index.js","webpack:///./built/node/schemas/builder.js","webpack:///./built/node/schemas/proxy.config.schema.js","webpack:///./built/node/schemas/interface.schema.js"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,6DAA6D;AAC9D,2C;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,kBAAkB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,6DAA6D;AAC9D,yC;;;;;;AC5BA;AACA;AACA;AACA,WAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,0BAAyB,uDAAuD;AAChF;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA,EAAC;AACD;AACA;AACA,oCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,mCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,gCAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,MAAK;AACL;AACA;AACA,cAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,aAAY;AACZ,uBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC,mCAAkC,SAAS;AAC3C,mCAAkC,WAAW,UAAU;AACvD,0CAAyC,cAAc;AACvD;AACA,8GAA6G,OAAO,UAAU;AAC9H,iFAAgF,iBAAiB,OAAO;AACxG,yDAAwD,gBAAgB,QAAQ,OAAO;AACvF,+CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,kCAAiC;AACjC;AACA;AACA,UAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA,MAAK;AACL;AACA,EAAC,+EAA+E;AAChF,oC;;;;;;ACpEA;AACA;AACA;AACA,WAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,0BAAyB,uDAAuD;AAChF;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,+EAA+E;AAChF,iC;;;;;;ACvBA;AACA;AACA;AACA,oCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,mCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,gCAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,MAAK;AACL;AACA;AACA,cAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,aAAY;AACZ,uBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC,mCAAkC,SAAS;AAC3C,mCAAkC,WAAW,UAAU;AACvD,0CAAyC,cAAc;AACvD;AACA,8GAA6G,OAAO,UAAU;AAC9H,iFAAgF,iBAAiB,OAAO;AACxG,yDAAwD,gBAAgB,QAAQ,OAAO;AACvF,+CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,kCAAiC;AACjC;AACA;AACA,UAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC,kCAAiC,EAAE,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAA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A;AACA;AACA;AACA;AACA;AACA,mCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA,qCAAoC,kBAAkB;AACtD,iCAAgC,cAAc;AAC9C;AACA;AACA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,+EAA+E;AAChF,oC;;;;;;AC9EA;AACA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,gD;;;;;;ACjBA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,6C","file":"index.js","sourcesContent":["\"use strict\";\nvar engineFactory = require(\"./libs/engine.factory\");\nvar proxy_1 = require(\"./libs/proxy\");\nvar compose = require(\"./libs/compose\");\nvar index_1 = require(\"./schemas/index\");\nvar base = require(\"./engines/base\");\nvar methodtype = require(\"./models/method\");\nexports.modelProxy = {\n    Proxy: proxy_1.ModelProxy.ModelProxy,\n    engineFactory: engineFactory.ModelProxy.engineFactory,\n    Compose: compose.ModelProxy.Compose,\n    modelProxySchemaUtils: index_1.default,\n    methods: methodtype.MethodType,\n    BaseEngine: base.ModelProxyEngine.BaseEngine\n};\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/index.js\n// module id = 0\n// module chunks = 1","\"use strict\";\nvar factory = require(\"./base.factory\");\nvar engines = require(\"../engines/default\");\nvar ModelProxy;\n(function (ModelProxy) {\n    ModelProxy.engineFactory = new factory.ModelProxy.BaseFactory();\n    ModelProxy.engineFactory.add(\"default\", new engines.ModelProxyEngine.DefaultEngine());\n})(ModelProxy = exports.ModelProxy || (exports.ModelProxy = {}));\n//# sourceMappingURL=engine.factory.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/libs/engine.factory.js\n// module id = 4\n// module chunks = 1","\"use strict\";\nvar _ = require(\"lodash\");\nvar ModelProxy;\n(function (ModelProxy) {\n    var BaseFactory = (function () {\n        function BaseFactory() {\n            this.intances = {};\n        }\n        BaseFactory.prototype.add = function (name, intance, override) {\n            if (override === void 0) { override = false; }\n            if (override && this.intances.hasOwnProperty(name)) {\n                return console.error(\"\\u5DF2\\u7ECF\\u5B58\\u5728name=\\u3010\" + name + \"\\u3011\\u7684engine\\uFF01\");\n            }\n            this.intances[name] = intance;\n        };\n        BaseFactory.prototype.use = function (name) {\n            if (!this.intances.hasOwnProperty(name)) {\n                var engines = _.map(this.intances, function (val, key) {\n                    return key;\n                });\n                throw new Error(\"\\u4E0D\\u5B58\\u5728name=\\u3010\" + name + \"\\u3011\\u7684engine\\uFF01\\u5F53\\u524Dengines\\uFF1A\\u3010\" + engines.join(',') + \"\\u3011\");\n            }\n            return this.intances[name];\n        };\n        return BaseFactory;\n    }());\n    ModelProxy.BaseFactory = BaseFactory;\n})(ModelProxy = exports.ModelProxy || (exports.ModelProxy = {}));\n//# sourceMappingURL=base.factory.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/libs/base.factory.js\n// module id = 5\n// module chunks = 1","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;\n    return { next: verb(0), \"throw\": verb(1), \"return\": verb(2) };\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar base = require(\"./base\");\nvar ModelProxyEngine;\n(function (ModelProxyEngine) {\n    var DefaultEngine = (function (_super) {\n        __extends(DefaultEngine, _super);\n        function DefaultEngine() {\n            return _super.call(this) || this;\n        }\n        DefaultEngine.prototype.validate = function (data) {\n            return true;\n        };\n        DefaultEngine.prototype.proxy = function (intance, data, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, data];\n                });\n            });\n        };\n        return DefaultEngine;\n    }(base.ModelProxyEngine.BaseEngine));\n    ModelProxyEngine.DefaultEngine = DefaultEngine;\n})(ModelProxyEngine = exports.ModelProxyEngine || (exports.ModelProxyEngine = {}));\n//# sourceMappingURL=default.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/engines/default.js\n// module id = 6\n// module chunks = 1","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar compose_1 = require(\"../libs/compose\");\nvar ModelProxyEngine;\n(function (ModelProxyEngine) {\n    var BaseEngine = (function (_super) {\n        __extends(BaseEngine, _super);\n        function BaseEngine() {\n            return _super.call(this) || this;\n        }\n        return BaseEngine;\n    }(compose_1.ModelProxy.Compose));\n    ModelProxyEngine.BaseEngine = BaseEngine;\n})(ModelProxyEngine = exports.ModelProxyEngine || (exports.ModelProxyEngine = {}));\n//# sourceMappingURL=base.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/engines/base.js\n// module id = 7\n// module chunks = 1","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;\n    return { next: verb(0), \"throw\": verb(1), \"return\": verb(2) };\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _ = require(\"lodash\");\nvar ModelProxy;\n(function (ModelProxy) {\n    var Compose = (function () {\n        function Compose() {\n            this.middlewares = [];\n        }\n        Compose.prototype.use = function (func) {\n            if (!_.isFunction(func)) {\n                throw new TypeError(\"middleware must be a function！\");\n            }\n            this.middlewares.push(func);\n        };\n        Compose.prototype.compose = function () {\n            var _this = this;\n            if (!Array.isArray(this.middlewares))\n                throw new TypeError(\"Middleware stack must be an array!\");\n            for (var _i = 0, _a = this.middlewares; _i < _a.length; _i++) {\n                var fn = _a[_i];\n                if (typeof fn !== \"function\")\n                    throw new TypeError(\"Middleware must be composed of functions!\");\n            }\n            return function (context, next) {\n                return new Promise(function (resolve, reject) {\n                    var index = -1;\n                    var dispatch = function (i) {\n                        return new Promise(function (resolve1) {\n                            var fn = _this.middlewares[i];\n                            if (i <= index) {\n                                return reject(new Error(\"next() called multiple times\" + i + \"-\" + index));\n                            }\n                            index = i;\n                            if (i === _this.middlewares.length)\n                                fn = next;\n                            if (!fn) {\n                                return resolve1(context);\n                            }\n                            try {\n                                fn(context, function () { return __awaiter(_this, void 0, void 0, function () {\n                                    return __generator(this, function (_a) {\n                                        switch (_a.label) {\n                                            case 0: return [4 /*yield*/, dispatch(i + 1)];\n                                            case 1:\n                                                _a.sent();\n                                                resolve1();\n                                                return [2 /*return*/];\n                                        }\n                                    });\n                                }); }).catch(reject);\n                            }\n                            catch (err) {\n                                console.log(\"compose error\" + err);\n                                reject(err);\n                            }\n                        });\n                    };\n                    return dispatch(0).then(resolve);\n                });\n            };\n        };\n        Compose.prototype.errorHandle = function (ctx, err) {\n            ctx.isError = true;\n            ctx.err = err;\n            console.error(\"compose--\", err);\n        };\n        Compose.prototype.callback = function (complete) {\n            var _this = this;\n            var fn = this.compose();\n            return function (options) {\n                var ctx;\n                _.extend(ctx || {}, options || {});\n                return fn(ctx, function (ctx, next) { return __awaiter(_this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, next()];\n                            case 1:\n                                _a.sent();\n                                return [2 /*return*/];\n                        }\n                    });\n                }); }).catch(function (err) {\n                    _this.errorHandle(ctx, err);\n                }).finally(function () {\n                    complete(ctx);\n                });\n            };\n        };\n        return Compose;\n    }());\n    ModelProxy.Compose = Compose;\n})(ModelProxy = exports.ModelProxy || (exports.ModelProxy = {}));\n//# sourceMappingURL=compose.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/libs/compose.js\n// module id = 8\n// module chunks = 1","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;\n    return { next: verb(0), \"throw\": verb(1), \"return\": verb(2) };\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar interfaceFactory = require(\"./interface.factory\");\nvar index_1 = require(\"../schemas/index\");\nvar compose = require(\"./compose\");\nvar tv4 = require(\"tv4\");\nvar _ = require(\"lodash\");\nvar ModelProxy;\n(function (ModelProxy_1) {\n    var ModelProxy = (function (_super) {\n        __extends(ModelProxy, _super);\n        function ModelProxy() {\n            var _this = _super.call(this) || this;\n            _this.interfaces = {};\n            return _this;\n        }\n        ModelProxy.prototype.initInterfaces = function (config) {\n            var ifFacory = new interfaceFactory.ModelProxy.InterfaceFactory();\n            _.each(config.interfaces, function (i) {\n                ifFacory.add(i.key, _.extend({}, {\n                    ns: config.key,\n                    engine: config.engine,\n                    states: config.states,\n                    state: config.state,\n                    mockDir: config.mockDir\n                }, i));\n            });\n            return ifFacory;\n        };\n        ModelProxy.prototype.loadConfig = function (config) {\n            return __awaiter(this, void 0, void 0, function () {\n                var valid;\n                return __generator(this, function (_a) {\n                    valid = tv4.validateResult(config, index_1.default.proxyConfigSchema);\n                    if (!valid.valid) {\n                        throw valid.error;\n                    }\n                    this.interfaces[config.key] = this.initInterfaces(config);\n                    return [2 /*return*/, this];\n                });\n            });\n        };\n        ModelProxy.prototype.getNs = function (ns) {\n            if (!this.interfaces.hasOwnProperty(ns)) {\n                throw new Error(\"\\u6CA1\\u6709\\u627E\\u5230\" + ns + \"\\u7A7A\\u95F4\");\n            }\n            return this.interfaces[ns];\n        };\n        return ModelProxy;\n    }(compose.ModelProxy.Compose));\n    ModelProxy_1.ModelProxy = ModelProxy;\n})(ModelProxy = exports.ModelProxy || (exports.ModelProxy = {}));\n//# sourceMappingURL=proxy.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/libs/proxy.js\n// module id = 9\n// module chunks = 1","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;\n    return { next: verb(0), \"throw\": verb(1), \"return\": verb(2) };\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar method_1 = require(\"../models/method\");\nvar _ = require(\"lodash\");\nvar factory = require(\"./base.factory\");\nvar engineFactory = require(\"./engine.factory\");\nvar ModelProxy;\n(function (ModelProxy) {\n    var InterfaceFactory = (function (_super) {\n        __extends(InterfaceFactory, _super);\n        function InterfaceFactory() {\n            return _super.call(this) || this;\n        }\n        InterfaceFactory.prototype.add = function (name, intance, override) {\n            if (override === void 0) { override = false; }\n            _super.prototype.add.call(this, name, intance, override);\n            this[name] = this.execute.bind(this, intance);\n        };\n        InterfaceFactory.prototype.execute = function (instance, data, params, intanceCover) {\n            return __awaiter(this, void 0, void 0, function () {\n                var engine, iinstance;\n                return __generator(this, function (_a) {\n                    iinstance = { method: method_1.MethodType.GET, title: '', path: '', key: '' };\n                    _.extend(iinstance, instance, intanceCover);\n                    engine = engineFactory.ModelProxy.engineFactory.use(iinstance.engine);\n                    return [2 /*return*/, engine.proxy(iinstance, data, params)];\n                });\n            });\n        };\n        return InterfaceFactory;\n    }(factory.ModelProxy.BaseFactory));\n    ModelProxy.InterfaceFactory = InterfaceFactory;\n})(ModelProxy = exports.ModelProxy || (exports.ModelProxy = {}));\n//# sourceMappingURL=interface.factory.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/libs/interface.factory.js\n// module id = 10\n// module chunks = 1","\"use strict\";\nvar MethodType;\n(function (MethodType) {\n    MethodType[MethodType[\"GET\"] = 0] = \"GET\";\n    MethodType[MethodType[\"POST\"] = 1] = \"POST\";\n    MethodType[MethodType[\"DELETE\"] = 2] = \"DELETE\";\n    MethodType[MethodType[\"PUT\"] = 3] = \"PUT\";\n    MethodType[MethodType[\"HEAD\"] = 4] = \"HEAD\";\n    MethodType[MethodType[\"PATCH\"] = 5] = \"PATCH\";\n    MethodType[MethodType[\"OPTIONS\"] = 6] = \"OPTIONS\";\n})(MethodType = exports.MethodType || (exports.MethodType = {}));\n//# sourceMappingURL=method.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/models/method.js\n// module id = 11\n// module chunks = 1","\"use strict\";\nvar builder_1 = require(\"./builder\");\nvar proxy_config_schema_1 = require(\"./proxy.config.schema\");\nvar interface_schema_1 = require(\"./interface.schema\");\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    proxyConfigSchema: proxy_config_schema_1.default,\n    interfaceSchema: interface_schema_1.default,\n    JsonSchemaBuilder: builder_1.ModleProxySchema.JsonSchemaBuilder\n};\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/schemas/index.js\n// module id = 12\n// module chunks = 1","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _ = require(\"lodash\");\nvar _schema = \"http://json-schema.org/draft-04/schema#\";\nvar ModleProxySchema;\n(function (ModleProxySchema) {\n    var BaseTypeBuilder = (function () {\n        function BaseTypeBuilder() {\n            this.data = {};\n        }\n        BaseTypeBuilder.prototype.build = function (type, title, description) {\n            if (type === void 0) { type = \"string\"; }\n            this.data = _.extend({\n                title: title || \"\",\n                description: description || \"\",\n                type: type\n            }, this.data || {});\n            return this;\n        };\n        ;\n        BaseTypeBuilder.prototype.properties = function (props) {\n            this.data = _.extend({\n                properties: props,\n            }, this.data || {});\n            return this;\n        };\n        BaseTypeBuilder.prototype.items = function (items) {\n            this.data = _.extend({\n                items: items,\n            }, this.data || {});\n            return this;\n        };\n        BaseTypeBuilder.prototype.schema = function (schema, id) {\n            if (schema === void 0) { schema = _schema; }\n            if (id === void 0) { id = _schema; }\n            this.data = _.extend({\n                \"$schema\": schema,\n                id: id\n            }, this.data || {});\n            return this;\n        };\n        BaseTypeBuilder.prototype.required = function () {\n            var keys = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                keys[_i] = arguments[_i];\n            }\n            this.data = _.extend({\n                required: keys\n            }, this.data || {});\n            return this;\n        };\n        BaseTypeBuilder.prototype.toValue = function () {\n            return this.data;\n        };\n        return BaseTypeBuilder;\n    }());\n    ModleProxySchema.BaseTypeBuilder = BaseTypeBuilder;\n    var JsonSchemaBuilder = (function (_super) {\n        __extends(JsonSchemaBuilder, _super);\n        function JsonSchemaBuilder() {\n            return _super.call(this) || this;\n        }\n        JsonSchemaBuilder.init = function () {\n            return new JsonSchemaBuilder();\n        };\n        return JsonSchemaBuilder;\n    }(BaseTypeBuilder));\n    ModleProxySchema.JsonSchemaBuilder = JsonSchemaBuilder;\n})(ModleProxySchema = exports.ModleProxySchema || (exports.ModleProxySchema = {}));\n//# sourceMappingURL=builder.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/schemas/builder.js\n// module id = 13\n// module chunks = 1","\"use strict\";\nvar interface_schema_1 = require(\"./interface.schema\");\nvar builder_1 = require(\"./builder\");\nvar JsonSchemaBuilder = builder_1.ModleProxySchema.JsonSchemaBuilder;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = JsonSchemaBuilder.init().build(\"object\", null, \"modelProxy验证配置\")\n    .properties({\n    key: JsonSchemaBuilder.init().build().toValue(),\n    title: JsonSchemaBuilder.init().build().toValue(),\n    engine: JsonSchemaBuilder.init().build().toValue(),\n    states: JsonSchemaBuilder.init().build(\"object\").toValue(),\n    state: JsonSchemaBuilder.init().build().toValue(),\n    version: JsonSchemaBuilder.init().build().toValue(),\n    mockDir: JsonSchemaBuilder.init().build().toValue(),\n    interfaces: JsonSchemaBuilder.init().build(\"array\", \"接口配置数组\")\n        .items(interface_schema_1.default).toValue(),\n}).required(\"key\", \"title\", \"states\").toValue();\n//# sourceMappingURL=proxy.config.schema.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/schemas/proxy.config.schema.js\n// module id = 14\n// module chunks = 1","\"use strict\";\nvar builder_1 = require(\"./builder\");\nvar JsonSchemaBuilder = builder_1.ModleProxySchema.JsonSchemaBuilder;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = JsonSchemaBuilder.init().build(\"object\").properties({\n    key: JsonSchemaBuilder.init().build().toValue(),\n    title: JsonSchemaBuilder.init().build().toValue(),\n    engine: JsonSchemaBuilder.init().build().toValue(),\n    states: JsonSchemaBuilder.init().build(\"object\").toValue(),\n    state: JsonSchemaBuilder.init().build().toValue(),\n    version: JsonSchemaBuilder.init().build().toValue(),\n    method: JsonSchemaBuilder.init().build().toValue(),\n    path: JsonSchemaBuilder.init().build().toValue(),\n    config: JsonSchemaBuilder.init().build(\"object\").toValue(),\n    mockDir: JsonSchemaBuilder.init().build().toValue()\n}).required(\"key\", \"title\", \"method\", \"path\").toValue();\n//# sourceMappingURL=interface.schema.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./built/node/schemas/interface.schema.js\n// module id = 15\n// module chunks = 1"],"sourceRoot":""}